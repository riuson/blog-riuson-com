<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>riuson.com - BeagleBone</title><link href="https://blog.riuson.com/" rel="alternate"></link><link href="https://blog.riuson.com/feeds/beaglebone.atom.xml" rel="self"></link><id>https://blog.riuson.com/</id><updated>2015-05-20T00:00:00+05:00</updated><entry><title>Debian на BB + BB-View, мануал от element14</title><link href="https://blog.riuson.com/ru/posts/2015/05/20/bb-view-debian-manual-element14" rel="alternate"></link><published>2015-05-20T00:00:00+05:00</published><updated>2015-05-20T00:00:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2015-05-20:/ru/posts/2015/05/20/bb-view-debian-manual-element14</id><summary type="html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.element14.com/community/community/designcenter/single-board-computers/next-gen_beaglebone/blog"&gt;BeagleBone Black &amp;amp; BB-View Demo&lt;/a&gt;&lt;br&gt;
Отсюда берём Debian patch files, по …&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.element14.com/community/community/designcenter/single-board-computers/next-gen_beaglebone/blog"&gt;BeagleBone Black &amp;amp; BB-View Demo&lt;/a&gt;&lt;br&gt;
Отсюда берём Debian patch files, по указанной там ссылке: &lt;a href="http://www.element14.com/community/docs/DOC-67958/l/element14-bb-view-lcd-cape-software-download-centre1?ICID=beagleboneblack-bbview-software"&gt;element14: BB View LCD Cape Software Download Centre[1]&lt;/a&gt;. Файл называется &lt;a href="http://downloads.element14.com/downloads/bb-view/BB%20VIEW%20Debian%20Image.zip?COM=BeagleBoneBlack"&gt;Debian Image (Patched for BB-View)&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.element14.com/community/community/designcenter/single-board-computers/next-gen_beaglebone/blog/2015/05/20/beaglebone-black-with-the-bbview-and-the-new-beaglebone-debian-image"&gt;Beaglebone Black with the BBView and the new Beaglebone Debian image&lt;/a&gt;&lt;br&gt;
По инструкциям здесь записываем Debian на SD карту. Затем распаковываем на карту, в папку /home/debian/bbview, содержимое указанного выше архива Debian image, дабы потом вытаскивать эти файлы сразу с SD, без монтирования внешней USB флэшки.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class="text-success"&gt;&lt;b&gt;Работает.&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;</content><category term="BeagleBone"></category><category term="BB-View"></category></entry><entry><title>BB &amp; Qt — UART</title><link href="https://blog.riuson.com/ru/posts/2014/07/21/bb-and-qt-uart" rel="alternate"></link><published>2014-07-21T10:13:00+05:00</published><updated>2014-07-21T10:13:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-21:/ru/posts/2014/07/21/bb-and-qt-uart</id><summary type="html">&lt;p&gt;Подключение UART интерфейса.&lt;/p&gt;</summary><content type="html">&lt;h3&gt;Настройка пинов&lt;/h3&gt;
&lt;p&gt;В комплекте с исходниками ядра можно найти файлы BB-UART1-00A0.dts, BB-UART2-00A0.dts, BB-UART4-00A0.dts, BB-UART4-RTSCTS-00A0.dts, BB-UART5-00A0.dts.
Перечень задействованных в них пинов:
  * BB-UART1-00A0.dts
    * P9.24 - кнопка User1 на BB-View
    * P9.26
  * BB-UART2-00A0.dts
    * P9.21
    * P9.22
  * BB-UART4-00A0.dts
    * P9.13
    * P9.11 - кнопка User3 на BB-View
  * BB-UART5-00A0.dts
    * P8.37 - LCD Data
    * P8.38 - LCD Data&lt;/p&gt;
&lt;p&gt;Отсюда видно, что можно задействовать UART2.
На BeagleBone открываем файл настроек окружения:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ sudo nano /boot/uboot/uEnv.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Меняем ранее добавленную строку параметров на&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;optargs=capemgr.disable_partno=BB-BONELT-HDMI,BB-BONELT-HDMIN capemgr.enable_partno=BB-VIEW-LCD7-01,BB-UART2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Перезагружаемся.&lt;/p&gt;
&lt;p&gt;Теперь пины подключены к UART:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo cat /sys/kernel/debug/pinctrl/44e10800.pinmux/pingroups
...
group: pinmux_bb_uart2_pins
pin &lt;span class="m"&gt;84&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10950&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;85&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10954&lt;span class="o"&gt;)&lt;/span&gt;
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;В списке устройств должно появиться /dev/ttyO2.&lt;/p&gt;
&lt;h3&gt;Проверка обмена&lt;/h3&gt;
&lt;p&gt;Подключаем к ПК через адаптер RS-232 - UART 3.3V. На ПК можно воспользоваться любым терминалом для работы с RS-232. Настраиваем на скорость 115200, 8 бит, проверки чётности нет, 1 стоп бит.&lt;/p&gt;
&lt;h4&gt;Проверка передачи на ПК&lt;/h4&gt;
&lt;p&gt;На BeagleBone:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ sudo stty -F /dev/ttyO2 speed &lt;span class="m"&gt;115200&lt;/span&gt; cs8 -cstopb -parenb
&lt;span class="m"&gt;115200&lt;/span&gt;
debian@beaglebone:~$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Hello, World!&amp;#39;&lt;/span&gt; &amp;gt; /dev/ttyO2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;На ПК должна быть принята эта строка.&lt;/p&gt;
&lt;h4&gt;Проверка передачи на BeagleBone&lt;/h4&gt;
&lt;p&gt;Включаем приём на плате:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ cat /dev/ttyO2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Отправляем строку текста с ПК, заканчивающуюся /r или /n. Строка должна отобразиться в консоли BeagleBone.&lt;/p&gt;</content><category term="BeagleBone"></category></entry><entry><title>BB &amp; Qt — Некоторые исправления</title><link href="https://blog.riuson.com/ru/posts/2014/07/18/bb-and-qt-some-fix" rel="alternate"></link><published>2014-07-18T14:30:00+05:00</published><updated>2014-07-18T14:30:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-18:/ru/posts/2014/07/18/bb-and-qt-some-fix</id><summary type="html">&lt;p&gt;Перекраска синего пингвина и исправление некоторых конфликтов.&lt;/p&gt;</summary><content type="html">&lt;h3&gt;Синий пингвин&lt;/h3&gt;
&lt;p&gt;Нужно поменять местами красный и синий цвета. Решение найдено &lt;a href="http://www.element14.com/community/message/108736/l/re-how-to-bb-view-on-latest-debian#108736"&gt;здесь&lt;/a&gt;.
Для этого открываем файл &lt;i&gt;/linux-dev/KERNEL/drivers/gpu/drm/drm_fb_helper.c&lt;/i&gt;, ищем все инициализации смещения цветовых каналов и меняем местами red/blue.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gd"&gt;--- ./drm_fb_helper.c.orig  2014-07-03 19:48:33.465438683 +0600&lt;/span&gt;
&lt;span class="gi"&gt;+++ ./drm_fb_helper.c   2014-07-18 18:52:09.336754771 +0600&lt;/span&gt;
&lt;span class="gu"&gt;@@ -603,5 +603,5 @@&lt;/span&gt;
    case 8:
&lt;span class="gd"&gt;-       var-&amp;gt;red.offset = 0;&lt;/span&gt;
&lt;span class="gd"&gt;-       var-&amp;gt;green.offset = 0;&lt;/span&gt;
        var-&amp;gt;blue.offset = 0;
&lt;span class="gi"&gt;+       var-&amp;gt;green.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       var-&amp;gt;red.offset = 0;&lt;/span&gt;
        var-&amp;gt;red.length = 8;
&lt;span class="gu"&gt;@@ -613,5 +613,5 @@&lt;/span&gt;
    case 15:
&lt;span class="gd"&gt;-       var-&amp;gt;red.offset = 10;&lt;/span&gt;
&lt;span class="gi"&gt;+       var-&amp;gt;blue.offset = 10;&lt;/span&gt;
        var-&amp;gt;green.offset = 5;
&lt;span class="gd"&gt;-       var-&amp;gt;blue.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       var-&amp;gt;red.offset = 0;&lt;/span&gt;
        var-&amp;gt;red.length = 5;
&lt;span class="gu"&gt;@@ -623,5 +623,5 @@&lt;/span&gt;
    case 16:
&lt;span class="gd"&gt;-       var-&amp;gt;red.offset = 11;&lt;/span&gt;
&lt;span class="gi"&gt;+       var-&amp;gt;blue.offset = 11;&lt;/span&gt;
        var-&amp;gt;green.offset = 5;
&lt;span class="gd"&gt;-       var-&amp;gt;blue.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       var-&amp;gt;red.offset = 0;&lt;/span&gt;
        var-&amp;gt;red.length = 5;
&lt;span class="gu"&gt;@@ -633,5 +633,5 @@&lt;/span&gt;
    case 24:
&lt;span class="gd"&gt;-       var-&amp;gt;red.offset = 16;&lt;/span&gt;
&lt;span class="gi"&gt;+       var-&amp;gt;blue.offset = 16;&lt;/span&gt;
        var-&amp;gt;green.offset = 8;
&lt;span class="gd"&gt;-       var-&amp;gt;blue.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       var-&amp;gt;red.offset = 0;&lt;/span&gt;
        var-&amp;gt;red.length = 8;
&lt;span class="gu"&gt;@@ -643,5 +643,5 @@&lt;/span&gt;
    case 32:
&lt;span class="gd"&gt;-       var-&amp;gt;red.offset = 16;&lt;/span&gt;
&lt;span class="gi"&gt;+       var-&amp;gt;blue.offset = 16;&lt;/span&gt;
        var-&amp;gt;green.offset = 8;
&lt;span class="gd"&gt;-       var-&amp;gt;blue.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       var-&amp;gt;red.offset = 0;&lt;/span&gt;
        var-&amp;gt;red.length = 8;
&lt;span class="gu"&gt;@@ -880,5 +880,5 @@&lt;/span&gt;
    case 8:
&lt;span class="gd"&gt;-       info-&amp;gt;var.red.offset = 0;&lt;/span&gt;
&lt;span class="gd"&gt;-       info-&amp;gt;var.green.offset = 0;&lt;/span&gt;
        info-&amp;gt;var.blue.offset = 0;
&lt;span class="gi"&gt;+       info-&amp;gt;var.green.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       info-&amp;gt;var.red.offset = 0;&lt;/span&gt;
        info-&amp;gt;var.red.length = 8; /* 8bit DAC */
&lt;span class="gu"&gt;@@ -890,5 +890,5 @@&lt;/span&gt;
    case 15:
&lt;span class="gd"&gt;-       info-&amp;gt;var.red.offset = 10;&lt;/span&gt;
&lt;span class="gi"&gt;+       info-&amp;gt;var.blue.offset = 10;&lt;/span&gt;
        info-&amp;gt;var.green.offset = 5;
&lt;span class="gd"&gt;-       info-&amp;gt;var.blue.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       info-&amp;gt;var.red.offset = 0;&lt;/span&gt;
        info-&amp;gt;var.red.length = 5;
&lt;span class="gu"&gt;@@ -900,5 +900,5 @@&lt;/span&gt;
    case 16:
&lt;span class="gd"&gt;-       info-&amp;gt;var.red.offset = 11;&lt;/span&gt;
&lt;span class="gi"&gt;+       info-&amp;gt;var.blue.offset = 11;&lt;/span&gt;
        info-&amp;gt;var.green.offset = 5;
&lt;span class="gd"&gt;-       info-&amp;gt;var.blue.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       info-&amp;gt;var.red.offset = 0;&lt;/span&gt;
        info-&amp;gt;var.red.length = 5;
&lt;span class="gu"&gt;@@ -909,5 +909,5 @@&lt;/span&gt;
    case 24:
&lt;span class="gd"&gt;-       info-&amp;gt;var.red.offset = 16;&lt;/span&gt;
&lt;span class="gi"&gt;+       info-&amp;gt;var.blue.offset = 16;&lt;/span&gt;
        info-&amp;gt;var.green.offset = 8;
&lt;span class="gd"&gt;-       info-&amp;gt;var.blue.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       info-&amp;gt;var.red.offset = 0;&lt;/span&gt;
        info-&amp;gt;var.red.length = 8;
&lt;span class="gu"&gt;@@ -919,5 +919,5 @@&lt;/span&gt;
    case 32:
&lt;span class="gd"&gt;-       info-&amp;gt;var.red.offset = 16;&lt;/span&gt;
&lt;span class="gi"&gt;+       info-&amp;gt;var.blue.offset = 16;&lt;/span&gt;
        info-&amp;gt;var.green.offset = 8;
&lt;span class="gd"&gt;-       info-&amp;gt;var.blue.offset = 0;&lt;/span&gt;
&lt;span class="gi"&gt;+       info-&amp;gt;var.red.offset = 0;&lt;/span&gt;
        info-&amp;gt;var.red.length = 8;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Затем пересобираем ядро:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ./tools/rebuild.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Снова копируем файлы на карту памяти, загружаемся с неё и видим уже нормального Тукса.&lt;/p&gt;
&lt;h3&gt;pin 44e10978 already requested by 4819c000.i2c&lt;/h3&gt;
&lt;p&gt;Полезная информация:
  * &lt;a href="http://www.embedded-things.com/bbb/beaglebone-black-pin-mux-spreadsheet"&gt;BeagleBone Black Pin Mux Spreadsheet&lt;/a&gt;
  * &lt;a href="http://inspire.logicsupply.com/p/building-custom-cape.html"&gt;Building A Custom Cape&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;При загрузке в логах можно увидеть конфликт назначения функции пина P9.20 (gpio0.12, смещение DT 0x178):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;...
[    0.811465] pinctrl-single 44e10800.pinmux: pin 44e10978 already requested by 4819c000.i2c; cannot claim for gpio-leds-cape-lcd.12
[    0.823793] pinctrl-single 44e10800.pinmux: pin-94 (gpio-leds-cape-lcd.12) status -22
[    0.831988] pinctrl-single 44e10800.pinmux: could not request pin 94 on device pinctrl-single
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Он используется как линия SDA в интерфейсе I2C2 на BeagleBone Black для поиска плат расширения. Каждая из них должна иметь I2C микросхему памяти с информацией о плате (см. BeagleBone Black SRM, пункт 8.2.2 - I2C Bus).&lt;/p&gt;
&lt;p&gt;На плате BB-View место под миксрохему предусмотрено, но сама она отсутствует. А в DTS файле из Angstrom, да и в на плате BB-View, пин P9.20 обозначен как подключенный к светодиоду LED1. При попытке его инициализации как GPIO и возникает эта ошибка.&lt;/p&gt;
&lt;p&gt;Удаляем из файла DTS упоминания о P9.20, а также некоторых других неиспользуемых здесь пинах.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gd"&gt;--- ./BB-VIEW-LCD7-01-00A0.dts.orig 2014-07-18 18:18:59.172344896 +0600&lt;/span&gt;
&lt;span class="gi"&gt;+++ ./BB-VIEW-LCD7-01-00A0.dts  2014-07-18 18:20:11.771734973 +0600&lt;/span&gt;
&lt;span class="gu"&gt;@@ -38,21 +38,16 @@&lt;/span&gt;
        &amp;quot;P8.29&amp;quot;,    /* lcd: lcd_hsync */
        &amp;quot;P8.28&amp;quot;,    /* lcd: lcd_pclk */
        &amp;quot;P8.30&amp;quot;,    /* lcd: lcd_ac_bias_en */
&lt;span class="gd"&gt;-       &amp;quot;P9.27&amp;quot;,    /* lcd: gpio3_19 */&lt;/span&gt;
        &amp;quot;P9.12&amp;quot;,    /* led: gpio1_28 */
        &amp;quot;P9.14&amp;quot;,    /* pwm: ehrpwm1a */
&lt;span class="gd"&gt;-       &amp;quot;P9.15&amp;quot;,    /* keys: gpio1_16 */&lt;/span&gt;
&lt;span class="gd"&gt;-       &amp;quot;P9.23&amp;quot;,    /* keys: gpio1_17 */&lt;/span&gt;
&lt;span class="gd"&gt;-       &amp;quot;P9.16&amp;quot;,    /* keys: gpio1_19 */&lt;/span&gt;
&lt;span class="gd"&gt;-       &amp;quot;P9.21&amp;quot;,    /* keys: gpio0_3 */&lt;/span&gt;
&lt;span class="gi"&gt;+       &amp;quot;P9.11&amp;quot;,    /* keys: gpio0_30 USER3 */&lt;/span&gt;
&lt;span class="gi"&gt;+       &amp;quot;P9.23&amp;quot;,    /* keys: gpio1_17 USER2 */&lt;/span&gt;
&lt;span class="gi"&gt;+       &amp;quot;P9.16&amp;quot;,    /* keys: gpio1_19 USER0 */&lt;/span&gt;
&lt;span class="gi"&gt;+       &amp;quot;P9.24&amp;quot;,    /* keys: gpio0_15 USER1 */&lt;/span&gt;
        /* the hardware IP uses */
&lt;span class="gd"&gt;-       &amp;quot;gpio3_19&amp;quot;,&lt;/span&gt;
&lt;span class="gd"&gt;-       &amp;quot;gpio1_28&amp;quot;,&lt;/span&gt;
&lt;span class="gd"&gt;-       &amp;quot;gpio1_16&amp;quot;,&lt;/span&gt;
&lt;span class="gi"&gt;+       &amp;quot;gpio1_28&amp;quot;,     /* led: P9.12 */&lt;/span&gt;
        &amp;quot;gpio1_17&amp;quot;,
        &amp;quot;gpio1_19&amp;quot;,
&lt;span class="gd"&gt;-       &amp;quot;gpio0_3&amp;quot;,&lt;/span&gt;
&lt;span class="gd"&gt;-       &amp;quot;gpio0_12&amp;quot;,&lt;/span&gt;
        &amp;quot;lcd&amp;quot;,
        &amp;quot;ehrpwm1a&amp;quot;;

&lt;span class="gu"&gt;@@ -63,7 +58,6 @@&lt;/span&gt;
            bb_view_lcd_cape_led_pins: pinmux_bb_view_lcd_cape_led_pins {
                pinctrl-single,pins = &amp;lt;
                    0x078 0x2f      /* gpmc_be1n.gpio1_28, INPUT | PULLDIS | MODE7 */
&lt;span class="gd"&gt;-                   0x178 0x2f  /* uart1_ctsn.gpio0_12,INPUT | PULLDIS | MODE7 */&lt;/span&gt;
                &amp;gt;;
            };

&lt;span class="gu"&gt;@@ -100,10 +94,10 @@&lt;/span&gt;

            bb_view_lcd_cape_keys_pins: pinmux_bb_view_lcd_cape_keys_pins {
                pinctrl-single,pins = &amp;lt;
&lt;span class="gd"&gt;-                   0x4C 0x27   /* gpmc_a3.gpio1_19,   INPUT | MODE7 */&lt;/span&gt;
&lt;span class="gd"&gt;-                   0x184 0x27  /* uart1_txd.gpio0_15, INPUT | MODE7 */&lt;/span&gt;
&lt;span class="gd"&gt;-                   0x44 0x27   /* gpmc_a1.gpio1_17,   INPUT | MODE7 */&lt;/span&gt;
&lt;span class="gd"&gt;-                   0x70 0x27   /* gpmc_wait0.gpio0_30,INPUT | MODE7 */&lt;/span&gt;
&lt;span class="gi"&gt;+                   0x4C 0x27   /* gpmc_a3.gpio1_19    USER0, INPUT | MODE7 */&lt;/span&gt;
&lt;span class="gi"&gt;+                   0x184 0x27  /* uart1_txd.gpio0_15  USER1, INPUT | MODE7 */&lt;/span&gt;
&lt;span class="gi"&gt;+                   0x44 0x27   /* gpmc_a1.gpio1_17    USER2, INPUT | MODE7 */&lt;/span&gt;
&lt;span class="gi"&gt;+                   0x70 0x27   /* gpmc_wait0.gpio0_30 USER3, INPUT | MODE7 */&lt;/span&gt;
                &amp;gt;;
            };

&lt;span class="gu"&gt;@@ -179,13 +173,6 @@&lt;/span&gt;
                    linux,default-trigger = &amp;quot;none&amp;quot;;
                    default-state = &amp;quot;off&amp;quot;;
                };
&lt;span class="gd"&gt;-&lt;/span&gt;
&lt;span class="gd"&gt;-               bb_view_led1 {&lt;/span&gt;
&lt;span class="gd"&gt;-                   label = &amp;quot;bb-view:led1&amp;quot;;&lt;/span&gt;
&lt;span class="gd"&gt;-                   gpios = &amp;lt;&amp;amp;gpio1 12 0&amp;gt;;&lt;/span&gt;
&lt;span class="gd"&gt;-                   linux,default-trigger = &amp;quot;none&amp;quot;;&lt;/span&gt;
&lt;span class="gd"&gt;-                   default-state = &amp;quot;off&amp;quot;;&lt;/span&gt;
&lt;span class="gd"&gt;-               };&lt;/span&gt;
            };

            bb_view_gpio_keys {
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Обновляем ядро.&lt;/p&gt;
&lt;p&gt;После загрузки можно увидеть следующие группы пинов:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ sudo cat /sys/kernel/debug/pinctrl/44e10800.pinmux/pingroups
registered pin groups:
group: pinmux_userled_pins
pin &lt;span class="m"&gt;21&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10854&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;22&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10858&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;23&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e1085c&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;24&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10860&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_rstctl_pins
pin &lt;span class="m"&gt;20&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10850&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_i2c0_pins
pin &lt;span class="m"&gt;98&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10988&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;99&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e1098c&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_i2c2_pins
pin &lt;span class="m"&gt;94&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10978&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;95&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e1097c&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_pwm_bl_pins
pin &lt;span class="m"&gt;18&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10848&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_mmc1_pins
pin &lt;span class="m"&gt;88&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10960&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_emmc2_pins
pin &lt;span class="m"&gt;32&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10880&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;33&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10884&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10800&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10804&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;2&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10808&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;3&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e1080c&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;4&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10810&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;5&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10814&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;6&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10818&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;7&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e1081c&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_userled_pins
pin &lt;span class="m"&gt;21&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10854&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;22&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10858&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;23&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e1085c&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;24&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10860&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_bb_view_lcd_cape_led_pins
pin &lt;span class="m"&gt;30&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10878&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_bb_view_lcd_cape_pins
pin &lt;span class="m"&gt;40&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108a0&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;41&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108a4&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;42&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108a8&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;43&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108ac&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;44&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108b0&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;45&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108b4&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;46&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108b8&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;47&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108bc&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;48&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108c0&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;49&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108c4&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;50&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108c8&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;51&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108cc&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;52&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108d0&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;53&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108d4&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;54&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108d8&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;55&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108dc&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;56&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108e0&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;57&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108e4&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;58&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108e8&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;59&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e108ec&lt;span class="o"&gt;)&lt;/span&gt;

group: pinmux_bb_view_lcd_cape_keys_pins
pin &lt;span class="m"&gt;19&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e1084c&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;97&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10984&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;17&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10844&lt;span class="o"&gt;)&lt;/span&gt;
pin &lt;span class="m"&gt;28&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;44e10870&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="BeagleBone"></category><category term="BB-View"></category></entry><entry><title>BB &amp; Qt — Тестовое приложение</title><link href="https://blog.riuson.com/ru/posts/2014/07/16/bb-and-qt-test-application" rel="alternate"></link><published>2014-07-16T12:05:00+05:00</published><updated>2014-07-16T12:05:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-16:/ru/posts/2014/07/16/bb-and-qt-test-application</id><summary type="html">&lt;p&gt;Создание тестового приложения в Qt Creator с использованием ранее собранного Qt 5.2.1 для ARMv7.&lt;/p&gt;</summary><content type="html">&lt;h3&gt;Консольное&lt;/h3&gt;
&lt;p&gt;В Qt Creator создаём консольное приложение bb-test-console.
При выборе комплекта выбираем Desktop Qt 5.2.1 GCC и ARMv7 Qt 5.2.1 GCC ARM.&lt;/p&gt;
&lt;p&gt;В проекте будет всего 2 файла, bb-test-console.pro и main.cpp.
bb-test-console.pro:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;#-------------------------------------------------
#
# Project created by QtCreator 2014-07-15T20:59:08
#
#-------------------------------------------------

QT       += core
QT       -= gui

TARGET = bb-test-console
CONFIG   += console
CONFIG   -= app_bundle

TEMPLATE = app

SOURCES += main.cpp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;main.cpp приводим к следующему виду:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;QCoreApplication&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;[])&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;QCoreApplication&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Hello, World!&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// a.exec();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Вибираем сборку под ARM:&lt;/p&gt;
&lt;p&gt;&lt;img alt="kit-selection" class="img-fluid" src="https://blog.riuson.com/images/posts/2014/07/16/bb-and-qt-test-application-1.png" /&gt;&lt;/p&gt;
&lt;p&gt;Собираем и копируем на BeagleBone.&lt;/p&gt;
&lt;p&gt;Проверить наличие требуемых библиотек можно командой ldd -v на устройстве:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~/usr-share$ ldd -v bb-test-console 
    libQt5Core.so.5 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/share/qt-5.2.1-armv7/lib/libQt5Core.so.5 &lt;span class="o"&gt;(&lt;/span&gt;0xb6bed000&lt;span class="o"&gt;)&lt;/span&gt;
    librt.so.1 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/librt.so.1 &lt;span class="o"&gt;(&lt;/span&gt;0xb6bcf000&lt;span class="o"&gt;)&lt;/span&gt;
    libdl.so.2 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libdl.so.2 &lt;span class="o"&gt;(&lt;/span&gt;0xb6bc4000&lt;span class="o"&gt;)&lt;/span&gt;
    libpthread.so.0 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libpthread.so.0 &lt;span class="o"&gt;(&lt;/span&gt;0xb6ba9000&lt;span class="o"&gt;)&lt;/span&gt;
    libstdc++.so.6 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;0xb6afe000&lt;span class="o"&gt;)&lt;/span&gt;
    libm.so.6 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libm.so.6 &lt;span class="o"&gt;(&lt;/span&gt;0xb6a92000&lt;span class="o"&gt;)&lt;/span&gt;
    libgcc_s.so.1 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libgcc_s.so.1 &lt;span class="o"&gt;(&lt;/span&gt;0xb6a6e000&lt;span class="o"&gt;)&lt;/span&gt;
    libc.so.6 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;0xb6989000&lt;span class="o"&gt;)&lt;/span&gt;
    libicui18n.so.53 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/share/icu-4c-53.1-armv7/lib/libicui18n.so.53 &lt;span class="o"&gt;(&lt;/span&gt;0xb6820000&lt;span class="o"&gt;)&lt;/span&gt;
    libicuuc.so.53 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/share/icu-4c-53.1-armv7/lib/libicuuc.so.53 &lt;span class="o"&gt;(&lt;/span&gt;0xb6722000&lt;span class="o"&gt;)&lt;/span&gt;
    /lib/ld-linux-armhf.so.3 &lt;span class="o"&gt;(&lt;/span&gt;0xb6f62000&lt;span class="o"&gt;)&lt;/span&gt;
    libicudata.so.53 &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/share/icu-4c-53.1-armv7/lib/libicudata.so.53 &lt;span class="o"&gt;(&lt;/span&gt;0xb5291000&lt;span class="o"&gt;)&lt;/span&gt;

    Version information:
    ./bb-test-console:
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;CXXABI_1.3&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBCXX_3.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;CXXABI_ARM_1.3.3&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
    /usr/share/qt-5.2.1-armv7/lib/libQt5Core.so.5:
        ld-linux-armhf.so.3 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/ld-linux-armhf.so.3
        librt.so.1 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/librt.so.1
        libdl.so.2 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libdl.so.2
        libm.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libm.so.6
        libgcc_s.so.1 &lt;span class="o"&gt;(&lt;/span&gt;GCC_3.0&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libgcc_s.so.1
        libgcc_s.so.1 &lt;span class="o"&gt;(&lt;/span&gt;GCC_3.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libgcc_s.so.1
        libgcc_s.so.1 &lt;span class="o"&gt;(&lt;/span&gt;GCC_3.5&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libgcc_s.so.1
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;CXXABI_1.3&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;CXXABI_ARM_1.3.3&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBCXX_3.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
        libpthread.so.0 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libpthread.so.0
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.7&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.9&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
    /lib/arm-linux-gnueabihf/librt.so.1:
        libpthread.so.0 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_PRIVATE&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libpthread.so.0
        libpthread.so.0 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libpthread.so.0
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_PRIVATE&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
    /lib/arm-linux-gnueabihf/libdl.so.2:
        ld-linux-armhf.so.3 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_PRIVATE&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/ld-linux-armhf.so.3
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_PRIVATE&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
    /lib/arm-linux-gnueabihf/libpthread.so.0:
        ld-linux-armhf.so.3 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/ld-linux-armhf.so.3
        ld-linux-armhf.so.3 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_PRIVATE&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/ld-linux-armhf.so.3
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_PRIVATE&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
    /usr/lib/arm-linux-gnueabihf/libstdc++.so.6:
        ld-linux-armhf.so.3 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/ld-linux-armhf.so.3
        libgcc_s.so.1 &lt;span class="o"&gt;(&lt;/span&gt;GCC_3.3&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libgcc_s.so.1
        libgcc_s.so.1 &lt;span class="o"&gt;(&lt;/span&gt;GCC_3.5&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libgcc_s.so.1
        libgcc_s.so.1 &lt;span class="o"&gt;(&lt;/span&gt;GCC_3.0&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libgcc_s.so.1
        libm.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libm.so.6
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
    /lib/arm-linux-gnueabihf/libm.so.6:
        ld-linux-armhf.so.3 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_PRIVATE&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/ld-linux-armhf.so.3
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
    /lib/arm-linux-gnueabihf/libgcc_s.so.1:
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
    /lib/arm-linux-gnueabihf/libc.so.6:
        ld-linux-armhf.so.3 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/ld-linux-armhf.so.3
        ld-linux-armhf.so.3 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_PRIVATE&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/ld-linux-armhf.so.3
    /usr/share/icu-4c-53.1-armv7/lib/libicui18n.so.53:
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBCXX_3.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;CXXABI_1.3&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
        libgcc_s.so.1 &lt;span class="o"&gt;(&lt;/span&gt;GCC_3.5&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libgcc_s.so.1
        libm.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libm.so.6
    /usr/share/icu-4c-53.1-armv7/lib/libicuuc.so.53:
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBCXX_3.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
        libstdc++.so.6 &lt;span class="o"&gt;(&lt;/span&gt;CXXABI_1.3&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /usr/lib/arm-linux-gnueabihf/libstdc++.so.6
        libdl.so.2 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libdl.so.2
        libm.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libm.so.6
        libgcc_s.so.1 &lt;span class="o"&gt;(&lt;/span&gt;GCC_3.5&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libgcc_s.so.1
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
        libpthread.so.0 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libpthread.so.0
    /usr/share/icu-4c-53.1-armv7/lib/libicudata.so.53:
        libc.so.6 &lt;span class="o"&gt;(&lt;/span&gt;GLIBC_2.4&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&amp;gt; /lib/arm-linux-gnueabihf/libc.so.6
debian@beaglebone:~/usr-share$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Запускаем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~/usr-share$ ./bb-test-console 
Hello, World!
debian@beaglebone:~/usr-share$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;GUI&lt;/h3&gt;
&lt;p&gt;В Qt Creator создаём приложение QT Widgets bb-test-widgets.
При выборе комплекта выбираем Desktop Qt 5.2.1 GCC и ARMv7 Qt 5.2.1 GCC ARM.&lt;/p&gt;
&lt;p&gt;На окне размещаем QLabel для вывода текста, и QButton для выхода из приложения.
Исходники приведены ниже.&lt;/p&gt;
&lt;p&gt;bb-test-widgets.pro:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="c1"&gt;-------------------------------------------------&lt;/span&gt;
&lt;span class="o"&gt;#&lt;/span&gt;
&lt;span class="o"&gt;#&lt;/span&gt; &lt;span class="n"&gt;Project&lt;/span&gt; &lt;span class="n"&gt;created&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="n"&gt;QtCreator&lt;/span&gt; &lt;span class="mi"&gt;2014&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;07&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="n"&gt;T21&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;00&lt;/span&gt;
&lt;span class="o"&gt;#&lt;/span&gt;
&lt;span class="o"&gt;#&lt;/span&gt;&lt;span class="c1"&gt;-------------------------------------------------&lt;/span&gt;

&lt;span class="n"&gt;QT&lt;/span&gt;       &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;core&lt;/span&gt; &lt;span class="n"&gt;gui&lt;/span&gt;

&lt;span class="n"&gt;greaterThan&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;QT_MAJOR_VERSION&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="n"&gt;QT&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;widgets&lt;/span&gt;

&lt;span class="n"&gt;TARGET&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;bb&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;widgets&lt;/span&gt;
&lt;span class="k"&gt;TEMPLATE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;app&lt;/span&gt;

&lt;span class="n"&gt;SOURCES&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;main&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cpp&lt;/span&gt;&lt;span class="err"&gt;\&lt;/span&gt;
        &lt;span class="n"&gt;mainwindow&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cpp&lt;/span&gt;

&lt;span class="n"&gt;HEADERS&lt;/span&gt;  &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;mainwindow&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;

&lt;span class="n"&gt;FORMS&lt;/span&gt;    &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;mainwindow&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ui&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;mainwindow.h:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#ifndef MAINWINDOW_H&lt;/span&gt;
&lt;span class="cp"&gt;#define MAINWINDOW_H&lt;/span&gt;

&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;QMainWindow&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;QTimer&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;namespace&lt;/span&gt; &lt;span class="n"&gt;Ui&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;MainWindow&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;MainWindow&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="n"&gt;QMainWindow&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Q_OBJECT&lt;/span&gt;

&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;explicit&lt;/span&gt; &lt;span class="n"&gt;MainWindow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;QWidget&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;parent&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;MainWindow&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;Ui&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MainWindow&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;ui&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;QTimer&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;mTimer&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="nl"&gt;slots&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;timerTick&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;on_pushButtonClose_clicked&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="cp"&gt;#endif &lt;/span&gt;&lt;span class="c1"&gt;// MAINWINDOW_H&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;main.cpp:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;quot;mainwindow.h&amp;quot;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;QApplication&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;[])&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;QApplication&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;MainWindow&lt;/span&gt; &lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;w&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setWindowState&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Qt&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;WindowMaximized&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exec&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;mainwindow.cpp:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;quot;mainwindow.h&amp;quot;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;quot;ui_mainwindow.h&amp;quot;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;QTimer&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;QDateTime&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;QScreen&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;

&lt;span class="n"&gt;MainWindow&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MainWindow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;QWidget&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;parent&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;QMainWindow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;parent&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="n"&gt;ui&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Ui&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;MainWindow&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;ui&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;setupUi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;mTimer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;QTimer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;mTimer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SIGNAL&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="p"&gt;()),&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SLOT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;timerTick&lt;/span&gt;&lt;span class="p"&gt;()));&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;mTimer&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;QScreen&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;screen&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QGuiApplication&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;screens&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;at&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;setGeometry&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;screen&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;geometry&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;MainWindow&lt;/span&gt;&lt;span class="o"&gt;::~&lt;/span&gt;&lt;span class="n"&gt;MainWindow&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;mTimer&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;delete&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;mTimer&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;delete&lt;/span&gt; &lt;span class="n"&gt;ui&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;MainWindow&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;timerTick&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;QDateTime&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QDateTime&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;currentDateTime&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;QScreen&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;screen&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;QGuiApplication&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;screens&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;at&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;QRect&lt;/span&gt; &lt;span class="n"&gt;screenSize&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;screen&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;geometry&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;ui&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;label&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;setText&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                &lt;span class="n"&gt;QString&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;%1&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;%2 x %3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;
                    &lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;toString&lt;/span&gt;&lt;span class="p"&gt;()).&lt;/span&gt;
                    &lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;screenSize&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;()).&lt;/span&gt;
                    &lt;span class="n"&gt;arg&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;screenSize&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
                &lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;MainWindow&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;on_pushButtonClose_clicked&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;mainwindow.ui:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;&amp;lt;code&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;ui&lt;/span&gt; &lt;span class="na"&gt;version=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;4.0&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;class&amp;gt;&lt;/span&gt;MainWindow&lt;span class="nt"&gt;&amp;lt;/class&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;widget&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;QMainWindow&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;MainWindow&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;geometry&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;rect&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;x&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/x&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;y&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/y&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;width&amp;gt;&lt;/span&gt;90&lt;span class="nt"&gt;&amp;lt;/width&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;height&amp;gt;&lt;/span&gt;142&lt;span class="nt"&gt;&amp;lt;/height&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/rect&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;windowTitle&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;string&amp;gt;&lt;/span&gt;MainWindow&lt;span class="nt"&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;widget&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;QWidget&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;centralWidget&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;layout&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;QVBoxLayout&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;verticalLayout&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;item&amp;gt;&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;lt;widget&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;QLabel&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;label&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;string&amp;gt;&lt;/span&gt;TextLabel&lt;span class="nt"&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;alignment&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;set&amp;gt;&lt;/span&gt;Qt::AlignCenter&lt;span class="nt"&gt;&amp;lt;/set&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;lt;/widget&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;item&amp;gt;&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;lt;widget&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;QPushButton&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;pushButtonClose&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;string&amp;gt;&lt;/span&gt;Закрыть&lt;span class="nt"&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;lt;/widget&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/item&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/layout&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/widget&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;widget&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;QMenuBar&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;menuBar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;geometry&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;rect&amp;gt;&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;lt;x&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/x&amp;gt;&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;lt;y&amp;gt;&lt;/span&gt;0&lt;span class="nt"&gt;&amp;lt;/y&amp;gt;&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;lt;width&amp;gt;&lt;/span&gt;90&lt;span class="nt"&gt;&amp;lt;/width&amp;gt;&lt;/span&gt;
     &lt;span class="nt"&gt;&amp;lt;height&amp;gt;&lt;/span&gt;29&lt;span class="nt"&gt;&amp;lt;/height&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/rect&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/widget&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;widget&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;QToolBar&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;mainToolBar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;attribute&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;toolBarArea&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;enum&amp;gt;&lt;/span&gt;TopToolBarArea&lt;span class="nt"&gt;&amp;lt;/enum&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/attribute&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;attribute&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;toolBarBreak&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;bool&amp;gt;&lt;/span&gt;false&lt;span class="nt"&gt;&amp;lt;/bool&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/attribute&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/widget&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;widget&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;QStatusBar&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;statusBar&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;/widget&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;layoutdefault&lt;/span&gt; &lt;span class="na"&gt;spacing=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;6&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;margin=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;11&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;resources/&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;connections/&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/ui&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/code&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Здесь размер окна подгоняется под размер экрана. Каждую секунду выводится текущее время и размер экрана.
При нажатии на кнопку происходит выход из приложения.&lt;/p&gt;
&lt;p&gt;Для запуска создаём скрипт:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ &lt;span class="nb"&gt;cd&lt;/span&gt; usr-share/
debian@beaglebone:~/usr-share$ touch run.sh
debian@beaglebone:~/usr-share$ chmod +x run.sh 
debian@beaglebone:~/usr-share$ nano run.sh 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;В нём пишем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;QWS_KEYBOARD&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;usb

&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TSLIB_TSDEVICE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/dev/input/touchscreen
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TSLIB_CALIBFILE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/etc/pointercal2
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TSLIB_CONFFILE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/etc/ts.conf

&lt;span class="c1"&gt;#export TSLIB_PLUGINDIR=/usr/share/tslib-armv7/lib/ts&lt;/span&gt;
&lt;span class="c1"&gt;#export TSLIB_FBDEVICE=/dev/fb0&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TSLIB_CONSOLEDEVICE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;none

&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;QT_QPA_PLATFORM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;linuxfb:size&lt;span class="o"&gt;=&lt;/span&gt;800x480:mmSize&lt;span class="o"&gt;=&lt;/span&gt;153x91

./bb-test-widgets -platform linuxfb -plugin tslib
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Запускаем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~/usr-share$ ./run.sh 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Если выполнять запуск по SSH, то консоль устройства не отключится. На экране поверх приложения будет мигать курсор. Также, приложение можно остановить комбинацией Ctrl+C.
При запуске с самого устройства консоль отключится, курсор исчезнет, и прервать выполнение приложения будет возможно нажатием кнопки "Закрыть" в окне (сенсорная панель уже должна быть правильно настроена), либо перезагрузкой.&lt;/p&gt;
&lt;h3&gt;Запуск из Qt Creator&lt;/h3&gt;
&lt;p&gt;При настроенном устройстве и комплекте Qt, в параметрах Qt Creator, можно выполнять запуск (для отладки нужна поддержка python в gdb) приложения из самого Qt Creator.
Для этого надо в файл проекта добавить пару строк:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;...
TARGET = bb-test-console
target.files = bb-test-console
target.path = /home/debian/usr-share
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="BeagleBone"></category><category term="Qt"></category></entry><entry><title>BB &amp; Qt — Сборка Qt 5</title><link href="https://blog.riuson.com/ru/posts/2014/07/15/bb-and-qt-build-qt5" rel="alternate"></link><published>2014-07-15T22:02:00+05:00</published><updated>2014-07-15T22:02:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-15:/ru/posts/2014/07/15/bb-and-qt-build-qt5</id><summary type="html">&lt;p&gt;Сборка Qt 5 для Debian и BeagleBone.&lt;/p&gt;
&lt;p&gt;Данный материал основан …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Сборка Qt 5 для Debian и BeagleBone.&lt;/p&gt;
&lt;p&gt;Данный материал основан на "Bare Metal Qt 5.2 on BeagleBone Black Ubuntu" &lt;a href="http://armsdr.blogspot.ru/2014/01/bare-metal-qt-52-on-beaglebone-black.html?showComment=1405048695791#c8161014580628478124"&gt;Part 1&lt;/a&gt;, &lt;a href="http://armsdr.blogspot.ru/2014/01/bare-metal-qt-52-on-beaglebone-black_10.html"&gt;Part 2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Внимание: для Qt 4.7, 4.8 процедура настройки другая.&lt;/strong&gt;
Её можно посмотреть, например, здесь: &lt;a href="http://we.easyelectronics.ru/rcdimon/qt-na-beagleboard---blueshark.html"&gt;Qt на BeagleBoard / BlueShark&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;С &lt;a href="http://download.qt-project.org/"&gt;официального сайта&lt;/a&gt; берём &lt;a href="http://download.qt-project.org/official_releases/qt/5.2/5.2.1/single/qt-everywhere-opensource-src-5.2.1.tar.xz"&gt;qt-everywhere-opensource-src-5.2.1.tar.xz&lt;/a&gt;.\
Распаковываем в /&lt;i&gt;home/user/Qt/qt-everywhere-opensource-src-5.2.1-armv7&lt;/i&gt; .&lt;/p&gt;
&lt;p&gt;Настраиваем mkspecs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/Qt/qt-everywhere-opensource-src-5.2.1-armv7/qtbase/mkspecs/devices
$ cp -r linux-beagleboard-g++ linux-beaglebone-g++
$ nano linux-beaglebone-g++/qmake.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Меняем во флагах компилятора&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-mfloat-abi=softfp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;на&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;-mfloat-abi=hard
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;В конце файла, перед строкой load(qt_config), добавляем строки для Tslib:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;QMAKE_INCDIR&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; /usr/share/tslib-armv7/include
&lt;span class="nv"&gt;QMAKE_LIBDIR&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; /usr/share/tslib-armv7/lib
&lt;span class="nv"&gt;QMAKE_RPATHDIR&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; /usr/share/tslib-armv7/lib
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;И для ICU:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;QMAKE_INCDIR&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; /usr/share/icu-4c-53.1-armv7/include
&lt;span class="nv"&gt;QMAKE_LIBDIR&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; /usr/share/icu-4c-53.1-armv7/lib
&lt;span class="nv"&gt;QMAKE_RPATHDIR&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; /usr/share/icu-4c-53.1-armv7/lib
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Далее:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/Qt/qt-everywhere-opensource-src-5.2.1-armv7/qtbase/mkspecs
$ cp -r linux-arm-gnueabi-g++ linux-arm-gnueabihf-g++
$ nano linux-arm-gnueabihf-g++/qmake.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Меняем путь к компилятору:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c"&gt;# modifications to g++.conf&lt;/span&gt;
&lt;span class="nv"&gt;QMAKE_CC&lt;/span&gt;         &lt;span class="o"&gt;=&lt;/span&gt; arm-linux-gnueabi-gcc
&lt;span class="nv"&gt;QMAKE_CXX&lt;/span&gt;        &lt;span class="o"&gt;=&lt;/span&gt; arm-linux-gnueabi-g++
&lt;span class="nv"&gt;QMAKE_LINK&lt;/span&gt;       &lt;span class="o"&gt;=&lt;/span&gt; arm-linux-gnueabi-g++
&lt;span class="nv"&gt;QMAKE_LINK_SHLIB&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; arm-linux-gnueabi-g++
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;на&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c"&gt;# modifications to g++.conf&lt;/span&gt;
&lt;span class="nv"&gt;CROSS_TOOL&lt;/span&gt;       &lt;span class="o"&gt;=&lt;/span&gt; /home/user/beaglebone/gcc-linaro-arm-linux-gnueabi-4.8-2014.03_linux/bin/arm-linux-gnueabihf
&lt;span class="nv"&gt;QMAKE_CC&lt;/span&gt;         &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$$&lt;/span&gt;CROSS_TOOL-gcc
&lt;span class="nv"&gt;QMAKE_CXX&lt;/span&gt;        &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$$&lt;/span&gt;CROSS_TOOL-g++
&lt;span class="nv"&gt;QMAKE_LINK&lt;/span&gt;       &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$$&lt;/span&gt;CROSS_TOOL-g++
&lt;span class="nv"&gt;QMAKE_LINK_SHLIB&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$$&lt;/span&gt;CROSS_TOOL-g++
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="http://qt-project.org/doc/qt-5/configure-options.html"&gt;Конфигурация&lt;/a&gt; Qt 5.&lt;/p&gt;
&lt;p&gt;Создаём скрипт конфигурации:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/Qt/qt-everywhere-opensource-src-5.2.1-armv7
$ touch ./start-conf.sh
$ chmod +x ./start-conf.sh
$ nano ./start-conf.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Пишем в нём:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;./configure -prefix /usr/share/qt-5.2.1-armv7 -v -release -opensource -confirm-license -no-largefile -no-accessibility -nomake examples -nomake tests -qt-sql-sqlite -plugin-sql-sqlite -qt-zlib -no-gif -qt-libpng -qt-libjpeg -no-nis -no-eglfs -qpa linuxfb -no-cups -tslib -icu -xplatform linux-arm-gnueabihf-g++ -device linux-beaglebone-g++ -device-option &lt;span class="nv"&gt;CROSS_COMPILE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/user/beaglebone/gcc-linaro-arm-linux-gnueabi-4.8-2014.03_linux/bin/arm-linux-gnueabihf- -qt-pcre
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Сохраняем (Ctrl+O, Enter) и выходим (Ctrl+X).
Дополнительные опции можно посмотреть по команде:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ./configure --help
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Запускаем конфигурацию, собираем и устанавливаем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ./start-conf.sh
$ make
$ sudo make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Копируем каталог &lt;i&gt;/usr/share/qt-5.2.1-armv7&lt;/i&gt; на BeagleBone.&lt;/p&gt;</content><category term="BeagleBone"></category><category term="Qt"></category></entry><entry><title>BB &amp; Qt — ICU</title><link href="https://blog.riuson.com/ru/posts/2014/07/15/bb-and-qt-icu" rel="alternate"></link><published>2014-07-15T21:58:00+05:00</published><updated>2014-07-15T21:58:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-15:/ru/posts/2014/07/15/bb-and-qt-icu</id><summary type="html">&lt;p&gt;Сборка International Components for Unicode (ICU) для ARMv7. Используется в …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Сборка International Components for Unicode (ICU) для ARMv7. Используется в Qt с 5 версии.&lt;/p&gt;
&lt;p&gt;На основе статьи &lt;a href="http://starofrainnight-eng.blogspot.ru/2013/08/cross-compile-icu-512.html"&gt;Cross Compile ICU 51.2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Идём на &lt;a href="http://site.icu-project.org/download"&gt;сайт проекта ICU&lt;/a&gt;. Переходим по ссылке на последнюю версию ICU4C. Там скачиваем архив исходников, под названием "gzipped tar archive for Unix and other platforms".
Распаковываем в каталог &lt;i&gt;/home/user/Qt/icu&lt;/i&gt; .&lt;/p&gt;
&lt;p&gt;Сначала надо будет собрать ICU для текущей операционной системы.
Заходим в каталог icu и делаем копию исходников:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/Qt/icu
$ cp -r &lt;span class="nb"&gt;source&lt;/span&gt; source_host
$ &lt;span class="nb"&gt;cd&lt;/span&gt; source_host
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Собираем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ./configure
$ make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Теперь настраиваем основной каталог исходников.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/Qt/icu/source
$ touch build.sh
chmod +x build.sh
nano build.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;В файле пишем команды конфигурации и сборки:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;

&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/user/beaglebone/gcc-linaro-arm-linux-gnueabi-4.8-2014.03_linux/bin:&lt;span class="nv"&gt;$PATH&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; PATH
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TOOLCHAIN_TARGET_SYSTEM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;arm-linux-gnueabihf
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TOOLCHAIN_INSTALL_DIRECTORY&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/share/icu-4c-53.1-armv7

./configure &lt;span class="nv"&gt;CC&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$TOOLCHAIN_TARGET_SYSTEM&lt;/span&gt;-gcc &lt;span class="nv"&gt;CXX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$TOOLCHAIN_TARGET_SYSTEM&lt;/span&gt;-g++ &lt;span class="nv"&gt;CPP&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$TOOLCHAIN_TARGET_SYSTEM&lt;/span&gt;-cpp --host&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$TOOLCHAIN_TARGET_SYSTEM&lt;/span&gt; --prefix&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$TOOLCHAIN_INSTALL_DIRECTORY&lt;/span&gt; --enable-shared&lt;span class="o"&gt;=&lt;/span&gt;yes --enable-tests&lt;span class="o"&gt;=&lt;/span&gt;no --enable-samples&lt;span class="o"&gt;=&lt;/span&gt;no --with-cross-build&lt;span class="o"&gt;=&lt;/span&gt;/home/user/Qt/icu/source_host

make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Сохраняем (Ctrl+O, Enter) и выходим (Ctrl+X).&lt;/p&gt;
&lt;p&gt;&lt;span style="text-decoration: underline;"&gt;Для исправления бага с загрузкой библиотеки &lt;i&gt;libicudata.so&lt;/i&gt;&lt;/span&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;error white loading shared libraries: libicudata.so.53: cannot open shared object file: No such file or directory&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;открываем файл &lt;i&gt;icu/source/mh-linux&lt;/i&gt; и комментируем эту строку:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nv"&gt;LDFLAGSICUDT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;-nodefaultlibs -nostdlib
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Решение найдено &lt;a href="http://stackoverflow.com/questions/17687336/icu-49-built-on-a-debian-system-fails-to-load-libicudata-so"&gt;здесь&lt;/a&gt;. Без этого исправления ldd -v libicudata.so.53 говорит, что библиотека statically linked. А после исправления - уже обычный вывод.&lt;/p&gt;
&lt;p&gt;Собираем и устанавливаем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ./build.sh
$ sudo make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Каталог &lt;i&gt;/usr/share/icu-4c-53.1-armv7&lt;/i&gt; копируем на BeagleBone.&lt;/p&gt;</content><category term="BeagleBone"></category><category term="Qt"></category></entry><entry><title>BB &amp; Qt — Tslib</title><link href="https://blog.riuson.com/ru/posts/2014/07/15/bb-and-qt-tslib" rel="alternate"></link><published>2014-07-15T21:54:00+05:00</published><updated>2014-07-15T21:54:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-15:/ru/posts/2014/07/15/bb-and-qt-tslib</id><summary type="html">&lt;p&gt;Сборка Tslib для Qt.&lt;/p&gt;
&lt;h3&gt;Сборка&lt;/h3&gt;
&lt;p&gt;Клонируем репозиторий &lt;a href="https://github.com/kergoth/tslib"&gt;tslib&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home …&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Сборка Tslib для Qt.&lt;/p&gt;
&lt;h3&gt;Сборка&lt;/h3&gt;
&lt;p&gt;Клонируем репозиторий &lt;a href="https://github.com/kergoth/tslib"&gt;tslib&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/beaglebone/
$ mkdir tslib
$ &lt;span class="nb"&gt;cd&lt;/span&gt; tslib
$ git clone https://github.com/kergoth/tslib.git .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Устанавливаем дополнительные пакеты для создания файлов конфигурации:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/beaglebone/tslib/
$ sudo apt-get install autoconf automake gettext libtool
$ ./autogen.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Создаём скрипт сборки:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/beaglebone/tslib/
$ touch build.sh
$ chmod +x build.sh
$ nano build.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;С текстом:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;CC&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/user/beaglebone/gcc-linaro-arm-linux-gnueabi-4.8-2014.03_linux/bin/arm-linux-gnueabihf-gcc
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;CXX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/home/user/beaglebone/gcc-linaro-arm-linux-gnueabi-4.8-2014.03_linux/bin/arm-linux-gnueabihf-g++
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;CONFIG_SITE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;arm-linux.autogen
./configure --build&lt;span class="o"&gt;=&lt;/span&gt;i386-linux --host&lt;span class="o"&gt;=&lt;/span&gt;arm-linux --target&lt;span class="o"&gt;=&lt;/span&gt;arm --disable-inputapi --prefix&lt;span class="o"&gt;=&lt;/span&gt;/usr/share/tslib-armv7
make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Собираем и устанавливаем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ./build.sh
$ sudo make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Получаем каталог &lt;i&gt;/usr/share/tslib-armv7&lt;/i&gt;, копируем на BeagleBone.&lt;/p&gt;
&lt;h3&gt;Настройка и калибровка&lt;/h3&gt;
&lt;p&gt;В &lt;i&gt;/dev/input/&lt;/i&gt; требуется определить, какой из event'ов относится к touchscreen.
Можно запустить, например, дамп и понажимать на панель:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ sudo cat /dev/input/event1 &lt;span class="p"&gt;|&lt;/span&gt; hexdump
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Либо запросить инфу о каждом event'е, пока не найдётся tsc:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ sudo udevadm info -n input/event1 -q path

/devices/ocp.3/44e0d000.tscadc/tsc/input/input1/event1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Теперь надо создать симлинк к этому event'у и разрешить доступ к нему.
Создаём в каталоге &lt;i&gt;/etc/udev/rules.d&lt;/i&gt; файл &lt;i&gt;80-touchscreen.rules&lt;/i&gt; с одной строкой:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;KERNEL==&amp;quot;event1&amp;quot;, SUBSYSTEM==&amp;quot;input&amp;quot;, SUBSYSTEMS==&amp;quot;input&amp;quot;, ATTRS{name}==&amp;quot;ti-tsc&amp;quot;, SYMLINK+=&amp;quot;input/touchscreen&amp;quot;, MODE=&amp;quot;0644&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;и перезагружаемся. Должен появиться &lt;i&gt;/dev/input/touchscreen&lt;/i&gt; с правами на чтение для всех.
&lt;a href="http://rus-linux.net/lib.php?name=/MyLDP/sys-conf/udev.html"&gt;Инструкция по udev&lt;/a&gt;. В Debian udevinfo заменяется на udevadm info.&lt;/p&gt;
&lt;p&gt;Создаём в Debian скрипт калибровки:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ mkdir /home/debian/test
debian@beaglebone:~$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/debian/test
debian@beaglebone:~/test$ nano ./calibr.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;С текстом:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TSLIB_TSDEVICE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/dev/input/touchscreen
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TSLIB_CONFFILE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/etc/ts.conf
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;TSLIB_CALIBFILE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/etc/pointercal2

/usr/share/tslib-armv7/bin/ts_calibrate
&lt;span class="c1"&gt;#/usr/share/tslib-armv7/bin/ts_test&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Закрываем редактор. Запускаем скрипт калибровки:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~/test$ chmod +x ./calibr.sh
debian@beaglebone:~/test$ sudo ./calibr.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;В результате будет создан файл &lt;i&gt;/etc/pointercal2&lt;/i&gt; с данными калибровки.
После калибровки, если в скрипте заменить ts_calibrate на ts_test, можно проверить работу touchscreen.&lt;/p&gt;</content><category term="BeagleBone"></category><category term="Qt"></category></entry><entry><title>BB &amp; Qt — Кросс-компилятор</title><link href="https://blog.riuson.com/ru/posts/2014/07/15/bb-and-setup-cross-compiler" rel="alternate"></link><published>2014-07-15T21:50:00+05:00</published><updated>2014-07-15T21:50:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-15:/ru/posts/2014/07/15/bb-and-setup-cross-compiler</id><summary type="html">&lt;p&gt;Установка кросс-компилятора.&lt;/p&gt;
&lt;p&gt;Операционная система на компьютере - &lt;a href="http://releases.ubuntu.com/14.04/"&gt;Ubuntu 14.04 LTS …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Установка кросс-компилятора.&lt;/p&gt;
&lt;p&gt;Операционная система на компьютере - &lt;a href="http://releases.ubuntu.com/14.04/"&gt;Ubuntu 14.04 LTS x64&lt;/a&gt;.
На BeagleBone Black - Debian 7.5 Wheezy.&lt;/p&gt;
&lt;h3&gt;32-битные библиотеки&lt;/h3&gt;
&lt;p&gt;Начиная с Ubuntu 13.10 выпилен пакет ia32-libs. Поэтому команда &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ sudo apt-get install ia32-libs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;уже не пройдёт.&lt;/p&gt;
&lt;p&gt;Устанавливаем библиотеки как объяснено &lt;a href="http://www.linuxrussia.com/2014/02/32-libs-ubuntu.html"&gt;здесь&lt;/a&gt; и &lt;a href="http://gnuarmeclipse.livius.net/blog/toolchain-install/"&gt;здесь&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ sudo dpkg --add-architecture i386
$ sudo apt-get update 

$ sudo apt-get install libc6:i386 libstdc++6:i386
$ sudo apt-get install lib32z1 lib32ncurses5 lib32bz2-1.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Компилятор&lt;/h3&gt;
&lt;p&gt;В качестве кросс-компилятора берём &lt;a href="https://launchpad.net/gcc-linaro/"&gt;Linaro GCC&lt;/a&gt;.
У компилятора из репозитория Ubuntu версия libc выше используемой в Debian, программа на устройстве не запустится.&lt;/p&gt;
&lt;p&gt;Скачиваем и распаковываем бинарники компилятора в какой-нибудь каталог, например:
&lt;i&gt;/home/user/beaglebone/gcc-linaro-arm-linux-gnueabi-4.8-2014.03_linux&lt;/i&gt;&lt;/p&gt;
&lt;h3&gt;Отладчик&lt;/h3&gt;
&lt;p&gt;Для Qt Creator понадобится gdb с поддержкой python.&lt;/p&gt;
&lt;p&gt;Скачиваем исходники &lt;a href="https://launchpad.net/gdb-linaro/+download"&gt;Linaro GDB&lt;/a&gt;.
Распаковываем в &lt;i&gt;/home/user/beaglebone/gdb-linaro-7.6-2013.05-sources&lt;/i&gt;
Собираем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/beaglebone/gdb-linaro-7.6-2013.05-sources
~/beaglebone/gdb-linaro-7.6-2013.05-sources$ ./configure --target&lt;span class="o"&gt;=&lt;/span&gt;arm-elf-linux-gnueabihf --prefix&lt;span class="o"&gt;=&lt;/span&gt;/home/user/beaglebone/gdb-linaro-7.6-2013.05
~/beaglebone/gdb-linaro-7.6-2013.05-sources$ make -j &lt;span class="m"&gt;2&lt;/span&gt;
~/beaglebone/gdb-linaro-7.6-2013.05-sources$ make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;GDB будет установлен в каталог &lt;i&gt;/home/user/beaglebone/gdb-linaro-7.6-2013.05&lt;/i&gt;. Поддержа python должна включиться автоматически.&lt;/p&gt;</content><category term="BeagleBone"></category><category term="Qt"></category></entry><entry><title>BB &amp; Qt — подключение дисплея BB-View</title><link href="https://blog.riuson.com/ru/posts/2014/07/15/bb-and-qt-connect-bb-view" rel="alternate"></link><published>2014-07-15T21:38:00+05:00</published><updated>2014-07-15T21:38:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-15:/ru/posts/2014/07/15/bb-and-qt-connect-bb-view</id><summary type="html">&lt;p&gt;К сожалению, придётся перекомпилировать ядро. Видео будет работать сразу (за …&lt;/p&gt;</summary><content type="html">&lt;p&gt;К сожалению, придётся перекомпилировать ядро. Видео будет работать сразу (за исключением порядка цветов), а вот подключение сенсорной панели не совпадает со стандартным 4-проводным интерфейсом TI.&lt;/p&gt;
&lt;p class="p-3 mb-2 bg-info text-white"&gt;Первоисточник:
"How-to BB-View on latest Debian"&lt;br&gt;
http://www.element14.com/community/thread/31051/l/how-to-bb-view-on-latest-debian&lt;/p&gt;
&lt;p&gt;Создаём каталог &lt;i&gt;/home/user/beaglebone/kernel&lt;/i&gt; и заходим в него:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ mkdir /home/user/beaglebone/kernel
$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/beaglebone/kernel
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Если на ПК &lt;strong&gt;git&lt;/strong&gt; ещё не установлен, устанавливаем:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ sudo apt-get install git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Клонируем проект &lt;strong&gt;linux-dev&lt;/strong&gt; автора Robert Nelson. Готовьтесь к большой загрузке (~100 МБ для кросс-компилятора и ~700 МБ для исходников ядра).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ git clone https://github.com/RobertCNelson/linux-dev.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Заходим в новый каталог &lt;i&gt;linux-dev&lt;/i&gt; и выбираем ветку/тег, соответствующую версии Debian.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; linux-dev
$ git checkout &lt;span class="m"&gt;3&lt;/span&gt;.8.13-bone53 -b tmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Теперь нам нужно собрать базовый образ, чтобы каталог драйверов плат расширения заполнился. Сценарий подскажет вам, если понадобится что-то сделать или доустановить.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ./build_kernel.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Процесс будет длиться час или около того. Наберитесь терпения...&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;По состоянию на 2014-07-15:&lt;/strong&gt;
Скачиваем в каталог &lt;i&gt;/home/user/beaglebone/kernel&lt;/i&gt; архив &lt;i&gt;BB-View Angstrom Source Code&lt;/i&gt;.
Взять его можно здесь: &lt;a href="http://www.element14.com/community/docs/DOC-55844?ICID=beagleboneblack-bbview-learn"&gt;Expansion Board for BeagleBone family with 7 inch LCD&lt;/a&gt; - &lt;a href="http://www.element14.com/community/docs/DOC-55844?ICID=beagleboneblack-bbview-learn#cdownloads"&gt;Downloads&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Вытаскиваем оттуда два файла:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ unzip angstrom-source.zip
$ bzip2 -cd bb-black-kernel-3.8.13-bb-view.tar.bz2 &lt;span class="p"&gt;|&lt;/span&gt; tar -xvf -
$ cp kernel/kernel/drivers/input/touchscreen/ti_am335x_tsc.c ../linux-dev/KERNEL/drivers/input/touchscreen/
$ cp kernel/kernel/firmware/capes/BB-VIEW-LCD7-01-00A0.dts ../linux-dev/KERNEL/firmware/capes/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;По состоянию на 2014-09-02:&lt;/strong&gt;
Скачиваем в каталог &lt;i&gt;/home/user/beaglebone/kernel&lt;/i&gt; архив &lt;i&gt;Debian Source Code Patched for BB View&lt;/i&gt;.
Взять его можно здесь: &lt;a href="http://www.element14.com/community/docs/DOC-67958?ICID=beagleboneblack-bbview-software"&gt;element14: BB View LCD Cape Software Download Centre[1]&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Вытаскиваем оттуда три файла:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ unzip BB&lt;span class="se"&gt;\ &lt;/span&gt;VIEW&lt;span class="se"&gt;\ &lt;/span&gt;Debian&lt;span class="se"&gt;\ &lt;/span&gt;Source&lt;span class="se"&gt;\ &lt;/span&gt;Code.zip
$ &lt;span class="nb"&gt;cd&lt;/span&gt; BB&lt;span class="se"&gt;\ &lt;/span&gt;VIEW&lt;span class="se"&gt;\ &lt;/span&gt;Debian&lt;span class="se"&gt;\ &lt;/span&gt;Source&lt;span class="se"&gt;\ &lt;/span&gt;Code/
$ bzip2 -cd bb-black-kernel-3.8.13-bb-view.tar.bz2 &lt;span class="p"&gt;|&lt;/span&gt; tar -xvf -
$ cp kernel/kernel/drivers/input/touchscreen/ti_am335x_tsc.c ../linux-dev/KERNEL/drivers/input/touchscreen/
$ cp kernel/kernel/include/linux/mfd/ti_am335x_tscadc.h ../linux-dev/KERNEL/include/linux/mfd/
$ cp kernel/kernel/firmware/capes/BB-VIEW-LCD7-01-00A0.dts ../linux-dev/KERNEL/firmware/capes/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Теперь надо включить добавленное в сборку. Открываем файл:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ nano /home/user/beaglebone/kernel/linux-dev/KERNEL/firmware/Makefile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Добавляем следующую строку где-то около 192-ой (CTRL-C показывает текущую позицию курсора):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;BB-VIEW-LCD7-01-00A0.dtbo \
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Не забываем про закрывающий слеш, это важно. Теперь сохраняем и выходим, нажимая CTRL-O, Enter, CTRL-X.
Переходим обратно в корневой каталог &lt;i&gt;linux-dev&lt;/i&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ &lt;span class="nb"&gt;cd&lt;/span&gt; /home/user/beaglebone/kernel/linux-dev
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Теперь запускаем пересборку ядра, это уже не должно занять много времени:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ./tools/rebuild.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;В итоге получаем каталог &lt;i&gt;/home/user/beaglebone/kernel/linux-dev/deploy&lt;/i&gt; .
Из него размещаем файлы на SD карте:
  * &lt;i&gt;deploy/config-3.8.13-bone53&lt;/i&gt; копируем в &lt;i&gt;BEAGLE_BONE/config-3.8.13-bone53&lt;/i&gt;
  * &lt;i&gt;deploy/3.8.13-bone53.zImage&lt;/i&gt; копируем в &lt;i&gt;BEAGLE_BONE/zImage&lt;/i&gt;
  * &lt;i&gt;deploy/3.8.13-bone53-dtbs.tar.gz&lt;/i&gt; распаковываем в &lt;i&gt;BEAGLE_BONE/dtbs&lt;/i&gt;
  * &lt;i&gt;deploy/3.8.13-bone53-firmware.tar.gz&lt;/i&gt; распаковываем в &lt;i&gt;rootfs/lib/firmware/&lt;/i&gt;
  * &lt;i&gt;deploy/3.8.13-bone53-modules.tar.gz&lt;/i&gt; распаковываем в &lt;i&gt;rootfs/&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;Также, надо включить поддержку этого дисплея.
Открываем файл &lt;i&gt;BEAGLE_BONE/uEnv.txt&lt;/i&gt;. Где-то после строки #Disable HDMI добавляем параметры загрузки, в которых отключаем поддержку HDMI и включаем BB-View:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;optargs=capemgr.disable_partno=BB-BONELT-HDMI,BB-BONELT-HDMIN capemgr.enable_partno=BB-VIEW-LCD7-01
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Подключаем карту памяти к плате и загружаемся. Проверяем, что HDMI выключен (должна отсутствовать буква ...-L в списке), а BB-View включен:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ cat /sys/devices/bone_capemgr.9/slots
 &lt;span class="m"&gt;0&lt;/span&gt;: &lt;span class="m"&gt;54&lt;/span&gt;:PF--- 
 &lt;span class="m"&gt;1&lt;/span&gt;: &lt;span class="m"&gt;55&lt;/span&gt;:PF--- 
 &lt;span class="m"&gt;2&lt;/span&gt;: &lt;span class="m"&gt;56&lt;/span&gt;:PF--- 
 &lt;span class="m"&gt;3&lt;/span&gt;: &lt;span class="m"&gt;57&lt;/span&gt;:PF--- 
 &lt;span class="m"&gt;4&lt;/span&gt;: ff:P-O-L Bone-LT-eMMC-2G,00A0,Texas Instrument,BB-BONE-EMMC-2G
 &lt;span class="m"&gt;5&lt;/span&gt;: ff:P-O-- Bone-Black-HDMI,00A0,Texas Instrument,BB-BONELT-HDMI
 &lt;span class="m"&gt;6&lt;/span&gt;: ff:P-O-- Bone-Black-HDMIN,00A0,Texas Instrument,BB-BONELT-HDMIN
 &lt;span class="m"&gt;7&lt;/span&gt;: ff:P-O-L Override Board Name,00A0,Override Manuf,BB-VIEW-LCD7-01
debian@beaglebone:~$ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Если всё нормально... в ходе загрузки наблюдаем синего пингвина :)
Как исправить - в продолжении.&lt;/p&gt;
&lt;p&gt;Приобрести BB-View можно на &lt;a href="http://www.ebay.com/itm/BB-VIEW-70-Embest-7-Inch-Lcd-Display-Cape-For-Beaglebone-/141212194989?pt=UK_BOI_Electrical_Components_Supplies_ET&amp;amp;hash=item20e0e718ad"&gt;eBay&lt;/a&gt;.&lt;/p&gt;</content><category term="BeagleBone"></category><category term="Qt"></category><category term="BB-View"></category></entry><entry><title>BB &amp; Qt — Установка Debian на BeagleBone</title><link href="https://blog.riuson.com/ru/posts/2014/07/15/bb-and-qt-install-debian-on-beaglebone" rel="alternate"></link><published>2014-07-15T02:00:00+05:00</published><updated>2014-07-15T02:00:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-15:/ru/posts/2014/07/15/bb-and-qt-install-debian-on-beaglebone</id><summary type="html">&lt;p&gt;Установка системы Debian 7.5 Wheezy на SD Card для …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Установка системы Debian 7.5 Wheezy на SD Card для загрузки BeageBone Black.&lt;/p&gt;
&lt;h3&gt;Загрузка&lt;/h3&gt;
&lt;p&gt;Создаём каталог /home/user/beaglebone.&lt;/p&gt;
&lt;p&gt;На &lt;a href="http://beagleboard.org/latest-images"&gt;странице последних образов&lt;/a&gt; берём вариант Debian (BeagleBone, BeagleBone Black - 2GB SD), запускаемый без прошивки в eMMC. Скачиваем его в &lt;i&gt;/home/user/beaglebone/images&lt;/i&gt;.
Получается что-то типа &lt;i&gt;/home/user/beaglebone/images/bone-debian-7.5-2014-05-14-2gb.img.xz&lt;/i&gt; .&lt;/p&gt;
&lt;h3&gt;Установка&lt;/h3&gt;
&lt;p&gt;Записываем образ на SD карту памяти, объёмом более 2 ГБ. В Ubuntu для этого есть встроенное средство - приложение Disks.&lt;/p&gt;
&lt;p&gt;&lt;img alt="disks" class="img-fluid" src="https://blog.riuson.com/images/posts/2014/07/15/bb-and-qt-install-debian-on-beaglebone-1.png" /&gt;&lt;/p&gt;
&lt;p&gt;На SD карте должно появиться 2 раздела:
  * BEAGLE_BONE, объёмом около 100 МБ;
  * rootfs, объёмом около 1,7 ГБ.&lt;/p&gt;
&lt;p&gt;На разделе rootfs остаются свободными около 88 МБ, чего явно будет недостаточно. Поэтому запускаем Gparted и меняем размер этого раздела так, чтобы он занимал всё остальное доступное место на карте памяти (поэтому и нужна карта объёмом более 2 ГБ).&lt;/p&gt;
&lt;p&gt;&lt;img alt="gparted" class="img-fluid" src="https://blog.riuson.com/images/posts/2014/07/15/bb-and-qt-install-debian-on-beaglebone-2.png" /&gt;&lt;/p&gt;
&lt;p&gt;Устаналиваем карту памяти в BeagleBone. Зажимаем кнопку &lt;i&gt;boot&lt;/i&gt; и подключаем USB кабелем к ПК. После чего:
  * Загружается Debian;
  * Подключается съёмный диск BEAGLE_BONE (первый раздел на карте);
  * Поверх USB создаётся новое проводное подключение с адресом 192.168.7.1, маской 255.255.255.252, широковещательным адресом 192.168.7.3;&lt;/p&gt;
&lt;h3&gt;Связь&lt;/h3&gt;
&lt;p&gt;Теперь можно зайти по ssh. Логин debian, пароль temppwd.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ ssh debian@192.168.7.2
Debian GNU/Linux &lt;span class="m"&gt;7&lt;/span&gt;

BeagleBoard.org BeagleBone Debian Image &lt;span class="m"&gt;2014&lt;/span&gt;-05-14

Support/FAQ: http://elinux.org/Beagleboard:BeagleBoneBlack_Debian
debian@192.168.7.2&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;s password: temppwd
debian@beaglebone:~$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Выход в интернет&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://robotic-controls.com/learn/beaglebone/beaglebone-internet-over-usb-only"&gt;Настраиваем выход в интернет с BeagleBone через ПК по USB&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;На BeagleBone:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ sudo ifconfig usb0 &lt;span class="m"&gt;192&lt;/span&gt;.168.7.2
debian@beaglebone:~$ sudo route add default gw &lt;span class="m"&gt;192&lt;/span&gt;.168.7.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Возможно понадобится добавить строку &lt;i&gt;nameserver 8.8.8.8&lt;/i&gt; в файл &lt;i&gt;/etc/resolv.conf&lt;/i&gt; &lt;/p&gt;
&lt;p&gt;На ПК с Linux:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;#eth0 интерфейс, смотрящий в интернет&lt;/span&gt;
&lt;span class="c1"&gt;#eth3 это подключение к BeagleBone по USB&lt;/span&gt;
$ sudo su
$ ifconfig eth3 &lt;span class="m"&gt;192&lt;/span&gt;.168.7.1
$ iptables --table nat --append POSTROUTING --out-interface eth0 -j MASQUERADE
$ iptables --append FORWARD --in-interface eth3 -j ACCEPT
$ &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &amp;gt; /proc/sys/net/ipv4/ip_forward
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Теперь можно установить какой-либо дополнительный софт. Например Midnight Commander:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ sudo apt-get install mc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Или обновить систему:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;debian@beaglebone:~$ sudo apt-get update
debian@beaglebone:~$ sudo apt-get upgrade
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;(BeagleBone Black можно приобрести на &lt;a href="http://cgi.ebay.com/ws/eBayISAPI.dll?ViewItem&amp;amp;item=261487540514"&gt;eBay&lt;/a&gt;)&lt;/p&gt;</content><category term="BeagleBone"></category><category term="Qt"></category></entry><entry><title>BB &amp; Qt — Установка Qt Creator</title><link href="https://blog.riuson.com/ru/posts/2014/07/15/bb-and-qt-setup-qt-creator" rel="alternate"></link><published>2014-07-15T01:00:00+05:00</published><updated>2014-07-15T01:00:00+05:00</updated><author><name>Vladimir</name></author><id>tag:blog.riuson.com,2014-07-15:/ru/posts/2014/07/15/bb-and-qt-setup-qt-creator</id><summary type="html">&lt;p&gt;Подготовка Qt Creator для сборки проектов под BeagleBone.&lt;/p&gt;
&lt;h3&gt;Установка&lt;/h3&gt;
&lt;p&gt;Для …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Подготовка Qt Creator для сборки проектов под BeagleBone.&lt;/p&gt;
&lt;h3&gt;Установка&lt;/h3&gt;
&lt;p&gt;Для установки Qt Creator берём &lt;a href="http://qt-project.org/downloads"&gt;Qt Online Installer&lt;/a&gt;. С его помощью загружаем Tools и Qt 5.2.1 gcc 32/64 bit.&lt;/p&gt;
&lt;p&gt;&lt;img alt="qt-maintenance-tool" class="img-fluid" src="https://blog.riuson.com/images/posts/2014/07/15/bb-and-qt-setup-qt-creator-1.png" /&gt;&lt;/p&gt;
&lt;p&gt;Далее запускаем свежеустановленный Qt Creator.&lt;/p&gt;
&lt;h3&gt;Добавление устройства&lt;/h3&gt;
&lt;p&gt;Открываем меню Иструменты -&amp;gt; Параметры -&amp;gt; Устройства.
Добавляем новое "Обычное Linux-устройство", называем его "BeagleBone Black - Debian".
Хост 192.168.7.2, авторизация по паролю, логин debian, пароль temppwd.&lt;/p&gt;
&lt;p&gt;&lt;img alt="device" class="img-fluid" src="https://blog.riuson.com/images/posts/2014/07/15/bb-and-qt-setup-qt-creator-2.png" /&gt;&lt;/p&gt;
&lt;h3&gt;Добавление комплекта&lt;/h3&gt;
&lt;p&gt;Открываем меню Иструменты -&amp;gt; Параметры -&amp;gt; Сборка и запуск.&lt;/p&gt;
&lt;p&gt;На вкладке Отладчики добавляем новый отладчик Linaro GDB ARM Python, указывая путь к ранее собранному Linaro GDB:
&lt;i&gt;/home/user/beaglebone/gdb-linaro-7.6-2013.05/bin/arm-elf-linux-gnueabihf-gdb&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="gdb" class="img-fluid" src="https://blog.riuson.com/images/posts/2014/07/15/bb-and-qt-setup-qt-creator-3.png" /&gt;&lt;/p&gt;
&lt;p&gt;На вкладке Компиляторы добавляем новый кросс-компилятор Linaro GCC ARMv7, указывая путь к копилятору:
&lt;i&gt;/home/user/beaglebone/gcc-linaro-arm-linux-gnueabi-4.8-2014.03_linux/arm-linux-gnueabihf/bin/g++&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="compiler" class="img-fluid" src="https://blog.riuson.com/images/posts/2014/07/15/bb-and-qt-setup-qt-creator-4.png" /&gt;&lt;/p&gt;
&lt;p&gt;На вкладке Профили Qt добавляем новый профиль Qt 5.2.1 (armv7), указывая путь к qmake, из собранного ранее Qt 5.2.1 для ARMv7:
&lt;i&gt;/usr/share/qt-5.2.1-armv7/bin/qmake&lt;/i&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="profile" class="img-fluid" src="https://blog.riuson.com/images/posts/2014/07/15/bb-and-qt-setup-qt-creator-5.png" /&gt;&lt;/p&gt;
&lt;p&gt;На вкладке комплекты добавляем новый комплект ARMv7 Qt 5.2.1 GCC ARM, указывая созданные выше компилятор Linaro GCC ARMv7, профиль Qt и устройство:&lt;/p&gt;
&lt;p&gt;&lt;img alt="kit" class="img-fluid" src="https://blog.riuson.com/images/posts/2014/07/15/bb-and-qt-setup-qt-creator-6.png" /&gt;&lt;/p&gt;
&lt;p&gt;Подтверждаем и закрываем.&lt;/p&gt;</content><category term="BeagleBone"></category><category term="Qt"></category></entry></feed>